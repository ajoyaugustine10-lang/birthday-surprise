<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Night Surprise for Christeena</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Playfair+Display:wght@500;600&display=swap" rel="stylesheet">
<style>
*{margin:0;padding:0;box-sizing:border-box;}
body{
  height:100vh;
  background:radial-gradient(circle at top,#0b1437,#02030a);
  font-family:'Playfair Display', serif;
  overflow:hidden;
  text-align:center;
  color:#ffe3f0;
}
.stars{
  position:fixed;inset:0;z-index:0;
  background:
    radial-gradient(1.5px 1.5px at 5% 10%, #fff, transparent),
    radial-gradient(1.2px 1.2px at 20% 40%, #fff, transparent),
    radial-gradient(2px 2px at 30% 70%, #fff, transparent),
    radial-gradient(1.5px 1.5px at 50% 30%, #fff, transparent),
    radial-gradient(1.2px 1.2px at 65% 60%, #fff, transparent),
    radial-gradient(2px 2px at 75% 80%, #fff, transparent),
    radial-gradient(1.5px 1.5px at 85% 25%, #fff, transparent),
    radial-gradient(1.2px 1.2px at 90% 50%, #fff, transparent);
  animation:twinkle 4s infinite alternate;
}
@keyframes twinkle{0%{opacity:.6}100%{opacity:1}}
.top{height:55vh; padding-top:100px; position:relative;}
h1{font-size:28px; line-height:1.4; min-height:72px; position:relative; z-index:3; letter-spacing:0.05em; word-spacing:4px; text-shadow:0 0 18px rgba(255,140,190,.7);}
.name{font-family:'Great Vibes', cursive; font-size:44px; color:#ffd6ec; text-shadow:0 0 12px #ff99c0,0 0 25px #ff66a3; margin-top:6px; opacity:0; transition:opacity 1.5s; z-index:3; letter-spacing:0.05em;}
button{margin-top:18px;padding:14px 42px;font-size:16px;border:none;border-radius:40px;background:linear-gradient(135deg,#c2185b,#ff4f8b);color:#fff;cursor:pointer;box-shadow:0 12px 30px rgba(255,80,140,.45); z-index:3; position:relative;}
.moon{position:fixed;top:20px;left:20px;width:90px;height:90px;border-radius:50%;background:radial-gradient(circle,#fff,#ddd);box-shadow:0 0 45px rgba(255,255,255,.6);opacity:1;z-index:1;}
.balloons{position:relative;height:350px;margin-top:50px; z-index:10;}
.balloon-wrap{position:absolute;width:70px; cursor:pointer;}
.balloon{width:70px;height:100px;border-radius:50% 50% 48% 48%; background:radial-gradient(circle at 30% 30%,rgba(255,255,255,.6),transparent); box-shadow:inset -8px -14px 0 rgba(0,0,0,.1); position:relative; transition:transform .3s; animation: float 4s ease-in-out infinite;}
.balloon:hover{transform:translateY(-5px);}
.balloon-letter{position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); font-size:32px; font-weight:bold; color:#fff; text-shadow:0 0 12px #ffb6c1, 0 0 20px #ff8fb3; display:none;}
.balloon-string{position:absolute; width:2px; height:80px; background:#fff5; left:50%; top:100px; transform:translateX(-50%);}
@keyframes float {0%{transform:translateY(0) translateX(0);}25%{transform:translateY(-5px) translateX(2px);}50%{transform:translateY(-10px) translateX(0);}75%{transform:translateY(-5px) translateX(-2px);}100%{transform:translateY(0) translateX(0);} }
.cake{font-size:160px; position:fixed; bottom:20px; left:50%; transform:translateX(-50%); transition:transform 1s; z-index:5; display:none;}
.candles{position:absolute; top:-30px; left:50%; transform:translateX(-50%); font-size:32px;}
.heart{position:fixed; top:-30px; font-size:22px; color:#ff7bbf; animation:fall linear forwards; z-index:2;}
@keyframes fall{to{transform:translateY(110vh);opacity:0}}
.fade-text{font-size:22px; line-height:1.6; opacity:0; margin-bottom:20px; text-shadow:0 0 15px rgba(255,180,220,.6);}
#selfieBtn{
  padding:14px 36px;
  font-size:18px;
  border:none;
  border-radius:40px;
  background:linear-gradient(135deg,#ff4f8b,#c2185b);
  color:#fff;
  cursor:pointer;
  box-shadow:0 12px 30px rgba(255,80,140,.45);
  position:fixed;
  bottom:20px;
  left:50%;
  transform:translateX(-50%);
  display:none;
}
.emoji-big{font-size:80px; margin-bottom:10px;}
.result-text{font-size:22px; line-height:1.6;}
#cameraFlash{position:fixed; inset:0; background:white; opacity:0; pointer-events:none; z-index:10000;}
.flash{animation:flashAnim .6s ease;}
@keyframes flashAnim{0%{opacity:0;}20%{opacity:.95;}100%{opacity:0;}}
</style>
</head>
<body>

<div class="stars"></div>

<div class="top">
  <div id="moon" class="moon"></div>
  <h1 id="text">You have something special üíå</h1>
  <div id="name" class="name">Christeena</div>
  <button id="btn">Touch Me</button>
  <div id="balloons" class="balloons hidden"></div>
</div>

<div id="cakeBox" class="cake">üéÇ</div>

<audio id="pop" src="pop.mp3"></audio>
<audio id="music" src="romantic.mp3" loop></audio>

<div id="finalContent" style="display:none; text-align:center; color:#ffe3f0; position:fixed; inset:0;">
  <div id="messageBox" style="font-size:22px; line-height:1.6; margin-top:50px;"></div>
</div>

<div id="selfieResult" style="display:none; text-align:center; color:#ffe3f0; position:fixed; inset:0;"></div>

<div id="cameraFlash"></div>
<button id="selfieBtn">Take a Selfie üì∏</button>

<script>
const btn=document.getElementById("btn");
const text=document.getElementById("text");
const balloons=document.getElementById("balloons");
const cakeBox=document.getElementById("cakeBox");
const moon=document.getElementById("moon");
const nameEl=document.getElementById("name");
const pop=document.getElementById("pop");
const music=document.getElementById("music");
const finalContent=document.getElementById("finalContent");
const messageBox=document.getElementById("messageBox");
const selfieBtn=document.getElementById("selfieBtn");
const selfieResult=document.getElementById("selfieResult");

const message="HAPPY BIRTHDAY";
const colors=["#ff5f9e","#ffb703","#8ecae6","#9b5de5","#00f5d4"];
let step=0;

btn.onclick = () => {
  if(step===0){
    goFull();
    text.innerText="Pop the balloons to reveal the letters!";
    btn.style.display="none";
    showBalloons();
    step=1;
  } else if(step===2){
    cakeBox.style.display="block";
    btn.innerText="Light the Candle";
    btn.style.display="inline-block";
    step=3;
  } else if(step===3){
    lightCandles();
    btn.style.display="none";
    nameEl.style.opacity=1;
    startMusic();
    startHearts();
    setTimeout(showMessageBox,5000);
  }
};

function goFull(){if(document.documentElement.requestFullscreen){document.documentElement.requestFullscreen();}}

function showBalloons(){
  balloons.classList.remove("hidden");
  balloons.innerHTML="";
  for(let i=0;i<message.length;i++){
    const w=document.createElement("div");
    w.className="balloon-wrap";
    w.style.left=(i*7+5)+"%";
    w.style.top=(Math.random()*60+80)+"px";

    const b=document.createElement("div");
    b.className="balloon";
    b.style.background=colors[i%colors.length];

    const span=document.createElement("span");
    span.className="balloon-letter";
    span.innerText = message[i];

    const stringEl=document.createElement("div");
    stringEl.className="balloon-string";
    b.appendChild(stringEl);

    b.onclick=()=>{
      pop.play();
      if(navigator.vibrate){navigator.vibrate(150);}
      for(let j=0;j<12;j++){
        const conf=document.createElement("div");
        conf.style.position="absolute";
        conf.style.width="6px";
        conf.style.height="6px";
        conf.style.borderRadius="50%";
        conf.style.background=colors[Math.floor(Math.random()*colors.length)];
        conf.style.left="30px";
        conf.style.top="50px";
        conf.style.pointerEvents="none";
        b.appendChild(conf);
        conf.animate(
          [{transform:`translate(0,0)`, opacity:1},{transform:`translate(${Math.random()*80-40}px,${Math.random()*-80}px)`, opacity:0}],
          {duration:700+Math.random()*500}
        );
        setTimeout(()=>conf.remove(),1200);
      }

      const rect=b.getBoundingClientRect();
      span.style.display="inline-block";
      span.style.position="fixed";
      span.style.left=rect.left+rect.width/2+"px";
      span.style.top=rect.top+rect.height/2+"px";
      span.style.transform="translate(-50%, -50%)";
      document.body.appendChild(span);

      b.style.opacity=0;
      b.style.transform="scale(0)";
      text.style.display="none";

      if([...document.querySelectorAll('.balloon-letter')].every(s=>s.style.display==='inline-block')){
        btn.style.display="inline-block";
        btn.innerText="Show the Cake";
        step=2;
      }
    };

    b.appendChild(span);
    w.appendChild(b);
    balloons.appendChild(w);
  }
}

function lightCandles(){
  const c=document.createElement("div");
  c.className="candles";
  c.innerHTML="üïØÔ∏è üïØÔ∏è üïØÔ∏è";
  cakeBox.appendChild(c);

  setInterval(()=>{
    Array.from(c.children).forEach(flame=>{
      flame.style.transform=`scale(${0.8+Math.random()*0.4}) rotate(${Math.random()*10-5}deg)`;
      flame.style.opacity=0.6+Math.random()*0.4;
    });
  },150);
}

function startHearts(){
  setInterval(()=>{
    for(let i=0;i<10;i++){
      const h=document.createElement("div");
      h.className="heart";
      h.innerText=Math.random()>0.5?"üíñ":"üíû";
      h.style.left=Math.random()*100+"vw";
      h.style.animationDuration=(2+Math.random()*2)+"s";
      document.body.appendChild(h);
      setTimeout(()=>h.remove(),7000);
    }
  },300);
}

function startMusic(){
  music.volume=0;
  music.play();
  let v=0;
  const fade=setInterval(()=>{
    if(v<0.6){v+=0.02;music.volume=v;}
    else clearInterval(fade);
  },200);
}

function showMessageBox(){
  document.querySelectorAll(".balloon-wrap, #cakeBox, #btn, #name, #text").forEach(e=>e.remove());
  finalContent.style.display="block";

  const lines=[
    "The stars are watching,\nthe moon is smiling,\nand this night is special ‚ú®",
    "May your days be bright,\nyour smiles endless,\nand your heart always happy ‚ú®"
  ];

  let index=0;
  function typeLine(line){
    let i=0;
    function typeChar(){
      if(i<line.length){
        messageBox.innerHTML+=line[i]=='\n'?'<br>':line[i];
        i++;
        setTimeout(typeChar,50);
      } else {
        index++;
        if(index<lines.length)setTimeout(()=>{messageBox.innerHTML+='<br>'; typeLine(lines[index]);},500);
        else selfieBtn.style.display="inline-block";
      }
    }
    typeChar();
  }
  typeLine(lines[index]);
}

// Selfie button click
selfieBtn.onclick = () => {
  // Hide all other elements except selfieResult and camera flash
  document.body.querySelectorAll("div, h1, button").forEach(e => {
    if(e != selfieResult && e != cameraFlash && e != selfieBtn) e.style.display = "none";
  });

  selfieBtn.style.display = "none"; // hide the selfie button
  selfieResult.style.display = "block"; // show selfie section

  // Add camera flash effect
  const flash = document.getElementById("cameraFlash");
  flash.classList.add("flash");
  setTimeout(() => flash.classList.remove("flash"), 600);

  // Clear previous content
  selfieResult.innerHTML = "";

  // Add monkey emojis
  const emojiDiv = document.createElement('div');
  emojiDiv.className = 'emoji-big';
  emojiDiv.innerText = 'üêµ üêµ';
  emojiDiv.style.fontSize = '80px';
  emojiDiv.style.marginBottom = '10px';
  selfieResult.appendChild(emojiDiv);

  // Add fun text below emojis
  const textP = document.createElement('p');
  textP.className = 'result-text';
  textP.innerHTML = 'Perfect selfie üòÑ<br>‡¥ï‡µä‡¥∞‡¥ô‡µç‡¥ô‡µª & ‡¥ï‡µä‡¥∞‡¥ô‡µç‡¥ô‡¥§‡µç‡¥§‡¥ø üòç';
  selfieResult.appendChild(textP);
}
</script>
</body>
</html>
